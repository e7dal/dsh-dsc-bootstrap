# KPN-DSH Bootstrap 2018-09

## Context
This project is the code for a hands-on workshop given in KPN for real-time analytics on the DSH platform.


The participants are divided into 4 groups: group-a, group-b, group-c, group-d 


During the first day each group will create their own basic processor.

* group-a: average-handling-time-processor
* group-b: queuers-and-callers-processor
* group-c: wait-time-processor
* group-d: queuers-per-service-processor

The end solution will combine all of these processors.


During the second day the participants will extrapolate a batch modeler, to a streaming model-scoring processor.

The streams generated by all of these components will be visualized in a dashboard that has been provided.

## Getting started

## Compiling the code
First, you will need to get a local working copy of the code, in its starting point version.

To avoid having to type your github password all the time, a ssh key has been generated on the VM. This key is associated with the GitHub repository.


Open a command line (the 'git shell window') and run
> mkdir -p git/kpn-dsh-bootstrap/day1-for-{groupname}
> 
> cd git/kpn-dsh-bootstrap/day1-for-{groupname}
> 
> git clone git@github.com:kpn-dsh/dsh-dsc-bootstrap -b {groupname}
> 
> cd dsh-dsc-bootstrap/
>
> git checkout -b day1-{groupname}-{yourinitials}
> 

The repository directory contains different subdirectories, each with the code for another service.

## Building and publishing the container containing the code
Thirdly, we will also test whether you environment is configured to be able to build a docker container and push it to the right docker repository.

In the sbt shell window, run
> docker:publishLocal
> 

Then open a third command line (the 'docker push shell window') and run
> docker tag {replayer:whatever version} {service-repo-coords:version-${yourinitials}}
> 
> docker push foobar.jfrog.io/bootstrap/replayer/:version+${yourinitials}}

## Starting a kpn-dsh service from the container

To deploy a new service or manage an existing one, you will need to to use the 'dsh-ump' tool, the user management portal .

